{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  boards: [{\n    id: '1',\n    title: 'To Do',\n    tasks: []\n  }, {\n    id: '2',\n    title: 'In Progress',\n    tasks: []\n  }, {\n    id: '3',\n    title: 'Done',\n    tasks: []\n  }]\n};\nconst tasksSlice = createSlice({\n  name: 'tasks',\n  initialState,\n  reducers: {\n    setTasks: (state, action) => {\n      state.tasks = action.payload;\n    },\n    addTask: (state, action) => {\n      state.tasks.push(action.payload);\n      localStorage.setItem('tasks', JSON.stringify(state.tasks));\n    },\n    updateTaskInState: (state, action) => {\n      state.tasks = action.payload;\n      localStorage.setItem('tasks', JSON.stringify(state.tasks));\n    },\n    deleteTask: (state, action) => {\n      state.tasks = state.tasks.filter(task => task.id !== action.payload);\n      localStorage.setItem('tasks', JSON.stringify(state.tasks));\n    },\n    addBoard: (state, action) => {\n      const newBoard = {\n        id: (state.boards.length + 1).toString(),\n        title: action.payload,\n        tasks: []\n      };\n      state.boards.push(newBoard);\n    }\n  }\n});\nexport const {\n  setTasks,\n  addTask,\n  updateTaskInState,\n  deleteTask,\n  addBoard\n} = tasksSlice.actions;\nexport const fetchTasks = () => dispatch => {\n  const tasks = localStorage.getItem('tasks');\n  if (tasks) {\n    dispatch(setTasks(JSON.parse(tasks)));\n  }\n};\nexport default tasksSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","boards","id","title","tasks","tasksSlice","name","reducers","setTasks","state","action","payload","addTask","push","localStorage","setItem","JSON","stringify","updateTaskInState","deleteTask","filter","task","addBoard","newBoard","length","toString","actions","fetchTasks","dispatch","getItem","parse","reducer"],"sources":["C:/Users/90549/Desktop/kanban/kanban-board/frontend/src/redux/tasksSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { AppThunk } from './store';\r\n\r\ninterface Task {\r\n  id: string;\r\n  title: string;\r\n  status: string;\r\n}\r\ninterface Board {\r\n  id: string;\r\n  title: string;\r\n  tasks: Task[];\r\n}\r\n\r\ninterface TasksState {\r\n  tasks: Task[];\r\n  boards: Board[];\r\n}\r\n\r\nconst initialState: TasksState = {\r\n  boards: [\r\n    { id: '1', title: 'To Do', tasks: [] },\r\n    { id: '2', title: 'In Progress', tasks: [] },\r\n    { id: '3', title: 'Done', tasks: [] },\r\n],\r\n};\r\n\r\nconst tasksSlice = createSlice({\r\n  name: 'tasks',\r\n  initialState,\r\n  reducers: {\r\n    setTasks: (state, action: PayloadAction<Task[]>) => {\r\n      state.tasks = action.payload;\r\n    },\r\n    addTask: (state, action: PayloadAction<Task>) => {\r\n      state.tasks.push(action.payload);\r\n      localStorage.setItem('tasks', JSON.stringify(state.tasks));\r\n    },\r\n    updateTaskInState: (state, action: PayloadAction<Task[]>) => {\r\n      state.tasks = action.payload;\r\n      localStorage.setItem('tasks', JSON.stringify(state.tasks));\r\n    },\r\n    deleteTask: (state, action: PayloadAction<string>) => {\r\n      state.tasks = state.tasks.filter(task => task.id !== action.payload);\r\n      localStorage.setItem('tasks', JSON.stringify(state.tasks));\r\n    },\r\n    addBoard: (state, action: PayloadAction<string>) => {\r\n      const newBoard: Board = {\r\n          id: (state.boards.length + 1).toString(),\r\n          title: action.payload,\r\n          tasks: [],\r\n      };\r\n      state.boards.push(newBoard);\r\n  }\r\n  },\r\n});\r\n\r\nexport const { setTasks, addTask, updateTaskInState, deleteTask, addBoard } = tasksSlice.actions;\r\n\r\nexport const fetchTasks = (): AppThunk => dispatch => {\r\n  const tasks = localStorage.getItem('tasks');\r\n  if (tasks) {\r\n    dispatch(setTasks(JSON.parse(tasks)));\r\n  }\r\n};\r\n\r\nexport default tasksSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAuB,kBAAkB;AAmB7D,MAAMC,YAAwB,GAAG;EAC/BC,MAAM,EAAE,CACN;IAAEC,EAAE,EAAE,GAAG;IAAEC,KAAK,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAG,CAAC,EACtC;IAAEF,EAAE,EAAE,GAAG;IAAEC,KAAK,EAAE,aAAa;IAAEC,KAAK,EAAE;EAAG,CAAC,EAC5C;IAAEF,EAAE,EAAE,GAAG;IAAEC,KAAK,EAAE,MAAM;IAAEC,KAAK,EAAE;EAAG,CAAC;AAEzC,CAAC;AAED,MAAMC,UAAU,GAAGN,WAAW,CAAC;EAC7BO,IAAI,EAAE,OAAO;EACbN,YAAY;EACZO,QAAQ,EAAE;IACRC,QAAQ,EAAEA,CAACC,KAAK,EAAEC,MAA6B,KAAK;MAClDD,KAAK,CAACL,KAAK,GAAGM,MAAM,CAACC,OAAO;IAC9B,CAAC;IACDC,OAAO,EAAEA,CAACH,KAAK,EAAEC,MAA2B,KAAK;MAC/CD,KAAK,CAACL,KAAK,CAACS,IAAI,CAACH,MAAM,CAACC,OAAO,CAAC;MAChCG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEC,IAAI,CAACC,SAAS,CAACR,KAAK,CAACL,KAAK,CAAC,CAAC;IAC5D,CAAC;IACDc,iBAAiB,EAAEA,CAACT,KAAK,EAAEC,MAA6B,KAAK;MAC3DD,KAAK,CAACL,KAAK,GAAGM,MAAM,CAACC,OAAO;MAC5BG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEC,IAAI,CAACC,SAAS,CAACR,KAAK,CAACL,KAAK,CAAC,CAAC;IAC5D,CAAC;IACDe,UAAU,EAAEA,CAACV,KAAK,EAAEC,MAA6B,KAAK;MACpDD,KAAK,CAACL,KAAK,GAAGK,KAAK,CAACL,KAAK,CAACgB,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACnB,EAAE,KAAKQ,MAAM,CAACC,OAAO,CAAC;MACpEG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEC,IAAI,CAACC,SAAS,CAACR,KAAK,CAACL,KAAK,CAAC,CAAC;IAC5D,CAAC;IACDkB,QAAQ,EAAEA,CAACb,KAAK,EAAEC,MAA6B,KAAK;MAClD,MAAMa,QAAe,GAAG;QACpBrB,EAAE,EAAE,CAACO,KAAK,CAACR,MAAM,CAACuB,MAAM,GAAG,CAAC,EAAEC,QAAQ,CAAC,CAAC;QACxCtB,KAAK,EAAEO,MAAM,CAACC,OAAO;QACrBP,KAAK,EAAE;MACX,CAAC;MACDK,KAAK,CAACR,MAAM,CAACY,IAAI,CAACU,QAAQ,CAAC;IAC/B;EACA;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEf,QAAQ;EAAEI,OAAO;EAAEM,iBAAiB;EAAEC,UAAU;EAAEG;AAAS,CAAC,GAAGjB,UAAU,CAACqB,OAAO;AAEhG,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAgBC,QAAQ,IAAI;EACpD,MAAMxB,KAAK,GAAGU,YAAY,CAACe,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIzB,KAAK,EAAE;IACTwB,QAAQ,CAACpB,QAAQ,CAACQ,IAAI,CAACc,KAAK,CAAC1B,KAAK,CAAC,CAAC,CAAC;EACvC;AACF,CAAC;AAED,eAAeC,UAAU,CAAC0B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}